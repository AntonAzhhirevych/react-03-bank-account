{"version":3,"sources":["components/TransactionHistory/TransactionHistory.module.css","components/Balance/Balance.js","components/Notification/toast.js","components/Controls/Controls.js","components/TransactionHistory/TransactionHistory.js","components/Dashboard/Dashboard.js","components/App/App.js","index.js","components/Balance/Balance.module.css","components/Controls/Controls.module.css"],"names":["module","exports","table","withdrawal","deposit","td","th","Balance","_ref","current","react_default","a","createElement","className","styles","balance","balance_spn","toast","configure","autoClose","draggable","notifyA","error","notifyB","notifyC","success","notifyD","Controls","state","value","changeInput","target","_this","setState","reset","handleSubmit","_ref2","name","_this$props","props","onState","onControls","Number","closest","children","type","amount","this","controls","controls_inp","onChange","controls_btn","onClick","Component","TransactionHistory","items","tr","map","id","date","key","Dashboard","transactions","componentDidMount","getTransactions","localStorage","getItem","parseTransactions","JSON","parse","componentDidUpdate","prevProps","prevState","setItem","stringify","addDepositAmmount","handleControls","newArr","concat","Object","toConsumableArray","objectSpread","shortid","Date","toLocaleString","Fragment","components_Controls_Controls","components_Balance_Balance","components_TransactionHistory_TransactionHistory","App","components_Dashboard_Dashboard","ReactDOM","render","components_App_App","document","getElementById"],"mappings":"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","file":"static/js/main.1bfed423.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"TransactionHistory_table__RGe1M\",\"withdrawal\":\"TransactionHistory_withdrawal__1L8EQ\",\"deposit\":\"TransactionHistory_deposit__2c2Ss\",\"td\":\"TransactionHistory_td__2S-EZ\",\"th\":\"TransactionHistory_th__2SN55\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Balance.module.css';\n\nconst Balance = ({ current, deposit, withdrawal }) => {\n  return (\n    <section className={styles.balance}>\n      <span className={styles.balance_spn}>⬆{deposit}$</span>\n      <span className={styles.balance_spn}>⬇{withdrawal}$</span>\n      <span className={styles.balance_spn}>Balance: {current}$</span>\n    </section>\n  );\n};\n\nBalance.propTypes = {\n  current: PropTypes.number.isRequired,\n  deposit: PropTypes.number.isRequired,\n  withdrawal: PropTypes.number.isRequired,\n};\n\nexport default Balance;\n","import 'react-toastify/dist/ReactToastify.css';\nimport { toast } from 'react-toastify';\n\ntoast.configure({\n  autoClose: 1500,\n  draggable: true,\n});\n\nconst notifyA = () => toast.error('Введите сумму для проведения операции!', {});\n\nconst notifyB = () =>\n  toast.error('На счету недостаточно средств для проведения операции!', {});\n\nconst notifyC = () => toast.success('Операция успешна!', {});\n\nconst notifyD = () => toast.error('некорректный ввод!', {});\n\nexport { notifyA, notifyB, notifyC, notifyD };\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { notifyA, notifyB, notifyC, notifyD } from '../Notification/toast';\nimport styles from './Controls.module.css';\n\nclass Controls extends Component {\n  state = {\n    value: '',\n  };\n\n  changeInput = ({ target }) => {\n    this.setState({ value: target.value });\n  };\n\n  reset = () => {\n    this.setState({ value: '' });\n  };\n\n  handleSubmit = ({ target }) => {\n    const { name } = target;\n    const { onState, onControls } = this.props;\n\n    const value = Number(target.closest('section').children[0].value);\n\n    if (value === 0) {\n      notifyA();\n    } else if (name === 'Withdrawal' && value > onState) {\n      notifyB();\n    } else if (value < 0) {\n      notifyD();\n      this.reset();\n    } else {\n      onControls({\n        type: name,\n        amount: target.closest('section').children[0].value,\n      });\n\n      this.reset();\n\n      notifyC();\n    }\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <section className={styles.controls}>\n        <input\n          className={styles.controls_inp}\n          type=\"number\"\n          onChange={this.changeInput}\n          value={value}\n        />\n        <button\n          className={styles.controls_btn}\n          name=\"Deposit\"\n          onClick={this.handleSubmit}\n          type=\"button\"\n        >\n          Deposit\n        </button>\n        <button\n          className={styles.controls_btn}\n          name=\"Withdrawal\"\n          onClick={this.handleSubmit}\n          type=\"button\"\n        >\n          Withdraw\n        </button>\n      </section>\n    );\n  }\n}\nControls.propTypes = {\n  onState: PropTypes.number.isRequired,\n  onControls: PropTypes.func.isRequired,\n};\n\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './TransactionHistory.module.css';\n\nconst TransactionHistory = ({ items }) => {\n  return (\n    <table className={styles.table}>\n      <thead>\n        <tr className={styles.tr}>\n          <th className={styles.th}>Transaction</th>\n          <th className={styles.th}>Amount</th>\n          <th className={styles.th}>Date</th>\n        </tr>\n      </thead>\n      <tbody>\n        {items.map(({ id, type, amount, date }) => (\n          <tr\n            className={\n              type === 'Withdrawal' ? styles.withdrawal : styles.deposit\n            }\n            key={id}\n          >\n            <td className={styles.td}>{type}</td>\n            <td className={styles.td}>{amount}.00$</td>\n            <td className={styles.td}>{date}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nTransactionHistory.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      type: PropTypes.string.isRequired,\n      amount: PropTypes.string.isRequired,\n      date: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default TransactionHistory;\n","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport Balance from '../Balance/Balance';\nimport Controls from '../Controls/Controls';\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\n\nclass Dashboard extends Component {\n  state = {\n    transactions: [],\n    balance: {\n      current: 0,\n      deposit: 0,\n      withdrawal: 0,\n    },\n  };\n\n  componentDidMount = () => {\n    const getTransactions = localStorage.getItem('transaction');\n\n    if (getTransactions) {\n      const parseTransactions = JSON.parse(getTransactions);\n      this.setState(parseTransactions);\n    }\n  };\n\n  componentDidUpdate = (prevProps, prevState) => {\n    if (prevState !== this.state) {\n      localStorage.setItem('transaction', JSON.stringify(this.state));\n    }\n  };\n\n  addDepositAmmount = balance => {\n    if (balance.type === 'Deposit') {\n      this.setState(state => ({\n        balance: {\n          current: state.balance.current + Number(balance.amount),\n          deposit: state.balance.deposit + Number(balance.amount),\n          withdrawal: state.balance.withdrawal,\n        },\n      }));\n    } else {\n      this.setState(state => ({\n        balance: {\n          current: state.balance.current - Number(balance.amount),\n          deposit: state.balance.deposit,\n          withdrawal: state.balance.withdrawal + Number(balance.amount),\n        },\n      }));\n    }\n  };\n\n  handleControls = balance => {\n    const { transactions } = this.state;\n\n    // BALANCE\n    this.addDepositAmmount(balance);\n\n    // TRANSACTIONS\n    const newArr = [\n      ...transactions,\n      {\n        ...balance,\n        id: shortid(),\n        date: `${new Date().toLocaleString()}`,\n      },\n    ];\n\n    this.setState({ transactions: newArr });\n  };\n\n  render() {\n    const { transactions } = this.state;\n    const { balance } = this.state;\n    return (\n      <>\n        <Controls onState={balance.current} onControls={this.handleControls} />\n        <Balance\n          withdrawal={balance.withdrawal}\n          deposit={balance.deposit}\n          current={balance.current}\n        />\n        <TransactionHistory items={transactions} />\n      </>\n    );\n  }\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport Dashboard from '../Dashboard/Dashboard';\n\nconst App = () => {\n  return <Dashboard />;\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__GwYt-\",\"balance_spn\":\"Balance_balance_spn__2IL4y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__3vFh6\",\"controls_inp\":\"Controls_controls_inp__11mcx\",\"controls_btn\":\"Controls_controls_btn__aqafE\"};"],"sourceRoot":""}